MODULE Module1
    CONST robtarget Target_10:=[[-236.614014095,201.72310427,-99.999955059],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_20:=[[-236.614014094,201.723276534,0.00004494],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_30:=[[-200.336531089,108.053830008,0.000206299],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_40:=[[-192.963521233,108.053830013,0.000206299],[0.357709544,-0.000000308,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_50:=[[-154.809616825,203.618651873,0.000041676],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_60:=[[-155.946841998,206.746021091,0.000036288],[0.357709544,-0.000000308,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_70:=[[-161.822505379,207.068234886,0.000035733],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_80:=[[-169.972619089,188.5314646,0.000067665],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_90:=[[-222.057531902,188.531464564,0.000067666],[0.357709545,-0.000000307,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_100:=[[-229.942293098,207.068234839,0.000035733],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_110:=[[-235.799002726,206.708113532,0.000036353],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_120:=[[-236.614014094,201.723276534,0.00004494],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_130:=[[-236.614014095,201.72310427,-99.999955059],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_140:=[[-218.570041374,179.357675928,-99.999916531],[0.357709545,-0.000000307,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_150:=[[-218.570041372,179.357848191,0.000083468],[0.357709545,-0.000000307,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_160:=[[-173.460109606,179.357848221,0.000083468],[0.357709545,-0.000000307,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_170:=[[-196.735318057,120.297954347,0.000185207],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_180:=[[-218.570041372,179.357848191,0.000083468],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_190:=[[-218.570041374,179.357675928,-99.999916531],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_200:=[[-128.42599286,191.942967877,-99.999938212],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_210:=[[-128.425992859,191.94314014,0.000061788],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_220:=[[-120.93926049,197.515543481,0.000052189],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_230:=[[-112.732285511,199.373011265,0.000048988],[0.357709545,-0.000000307,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_240:=[[-102.629935244,197.307052212,0.000052547],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_250:=[[-94.309237742,191.109175038,0.000063224],[0.357709544,-0.000000308,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_260:=[[-89.305446986,182.996968825,0.000077198],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_270:=[[-87.637516729,174.126612495,0.000092479],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_280:=[[-86.53819902,108.944656468,0.000204764],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_290:=[[-79.999154289,108.944656473,0.000204764],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_300:=[[-78.918790422,174.126612501,0.000092479],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_310:=[[-81.174287018,186.162245555,0.000071745],[0.357709544,-0.000000309,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_320:=[[-87.94077679,196.946930918,0.000053168],[0.357709544,-0.000000308,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_330:=[[-99.142444726,205.419258431,0.000038574],[0.357709544,-0.000000308,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_340:=[[-112.732285516,208.243367595,0.000033708],[0.357709545,-0.000000307,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_350:=[[-124.426751019,205.665657201,0.000038149],[0.357709544,-0.000000307,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_360:=[[-134.794453819,197.932526034,0.00005147],[0.357709544,-0.000000307,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_370:=[[-141.560943577,188.152389562,0.000068318],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_380:=[[-143.816440158,177.917363026,0.000085949],[0.357709544,-0.000000309,0.000000805,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_390:=[[-142.755029997,174.562548772,0.000091728],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_400:=[[-136.102262749,174.638363789,0.000091598],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_410:=[[-133.316061089,185.062927855,0.00007364],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_420:=[[-128.425992859,191.94314014,0.000061788],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_430:=[[-128.42599286,191.942967877,-99.999938212],[0.357709544,-0.000000308,0.000000804,0.933832898],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST jointtarget GoHome:=[[0,0,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST jointtarget Middle:=[[46,9,20,0,11,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST jointtarget Path_mantenimiento:=[[90,40,-50,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
!***********************************************************
    !
    ! Módulo:  Module1
    !
    ! Descripción:
    !   <Introduzca la descripción aquí>
    !
    ! Autor: Pc
    !
    ! Versión: 1.0
    !
    !***********************************************************
    VAR intnum Mantenimiento;
    
    !***********************************************************
    !
    ! Procedimiento Main
    !
    !   Este es el punto de entrada de su programa
    !
    !***********************************************************
    PROC main()
        !Añada aquí su código
        IEnable;
        CONNECT Mantenimiento WITH OpMantenimiento;
        ISignalDI EntDI_2,1, Mantenimiento ;
        WHILE TRUE DO 
            SetDO SalDO_1,0;
            WaitDI EntDI_1,1;
            SetDO SalDO_1,1;
            GoGoHome ;
            GoMiddle ;
            A1 ;
            A2 ;
            J ;
            GoMiddle ;
            GoGoHome ;
            !IDelete Mantenimiento;
        ENDWHILE
    ENDPROC
    PROC A1()
        MoveL Target_10,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_20,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_30,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_40,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_50,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_60,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_70,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_80,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_90,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_100,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_110,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_120,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_130,v200,z100,tool_lab1\WObj:=tabla_AJ;
    ENDPROC
    PROC A2()
        MoveL Target_140,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_150,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_160,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_170,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_180,v200,z10,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_190,v200,z10,tool_lab1\WObj:=tabla_AJ;
    ENDPROC
    PROC J()
        MoveL Target_200,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_210,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_220,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_230,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_240,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_250,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_260,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_270,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_280,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_290,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_300,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_310,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_320,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_330,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_340,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_350,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_360,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_370,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_380,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_390,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_400,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_410,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_420,v200,z100,tool_lab1\WObj:=tabla_AJ;
        MoveL Target_430,v200,z100,tool_lab1\WObj:=tabla_AJ;
    ENDPROC
    PROC GoGoHome()
        MoveAbsJ GoHome,v1000,z100,tool_lab1\WObj:=tabla_AJ;
    ENDPROC
    PROC GoMiddle()
        MoveAbsJ Middle,v1000,z100,tool_lab1\WObj:=tabla_AJ;
    ENDPROC
    PROC GoMantenimiento()
        GoMiddle;
        MoveAbsJ Path_mantenimiento,v200,z100,tool_lab1\WObj:=tabla_AJ;
    ENDPROC
    TRAP OpMantenimiento
        VAR robtarget parada;
        SetDO SalDO_1,0;
        SetDO SalDO_2,1;
        StopMove;
        StorePath;
        parada:=crobt(\Tool:=tool_lab1\WObj:=tabla_AJ);
        GoMantenimiento;
        WaitDI EntDI_1,1;
        GoMiddle;
        MoveL parada,v200,z100,tool_lab1\WObj:=tabla_AJ;
        SetDO SalDO_2,0;
        SetDO SalDO_1,1;
        RestoPath;
        StartMove;
    ENDTRAP
ENDMODULE